{% extends 'billing/index.html' %}
{% load django_bootstrap_breadcrumbs %}
{% load static %}

{% block title %}Update Payment Method{% endblock %}

{% block breadcrumbs %}
  {{ block.super }}
  {% breadcrumb 'Update Payment Method' 'billing:card_form' %}
{% endblock %}

{% block heading %}
  Update Payment Method
{% endblock %}

{% load crispy_forms_tags %}
{% block content %}

<div class="row">
  <div class="col-md-6">
    <div class="card">
      <div class="card-body">
        <form id="card_entry_form" method="POST" data-stripe-publishable-key="{{ STRIPE_PUBLISHABLE_KEY }}">
          {% csrf_token %}
          <div class="card mb-4">
            <div class="card-body">
              <div id="card-element"></div>
              <div id="card-errors" role="alert"></div>
            </div>
          </div>
          <input type="submit" value="Next" class="btn btn-primary">
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
  <script src="https://js.stripe.com/v3/"></script>
  <script src="{% static 'js/stripe.js' %}"></script>
{% endblock %}
