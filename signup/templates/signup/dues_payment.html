{% extends 'signup/base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}Payment{% endblock %}
{% block header_text %}Setup Fee{% endblock %}

{% block content %}

<div class="row">
  <div class="col-md-7">

    <p>
      Twin Cities Maker charges a one-time setup fee of $20.
      We collect this now, so that we can send out your key fob as soon as we possibly can.
    </p>

    <form id="payment_form" method="POST" data-stripe-publishable-key="{{ form.STRIPE_PUBLISHABLE_KEY }}">
      {% csrf_token %}
      <div class="card mb-4">
        <div class="card-body">
          <div id="card-element"></div>
          <div id="card-errors" role="alert"></div>
        </div>
      </div>
      <input type="submit" value="Next" class="btn btn-primary">
    </form>
  </div>
  <div class="col-md-5">
    <div class="alert alert-info">
      <h5 class="alert-heading">Important!</h5>
      <p>
        Although we are collecting the one-time setup fee now, 
        we will not charge your first month of dues until you have attended orientation
        and are ready to use the shop.
      </p>
    </div>
  </div>
</div>

{% endblock %}

{% block javascript %}
  <script src="{% static 'js/stripe.js' %}"></script>
{% endblock %}
